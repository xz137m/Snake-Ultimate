<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Snake Ultimate - An advanced Snake game with RPG elements, upgrades, and infinite progression. Play now!">
    <meta property="og:title" content="Snake Ultimate ğŸ">
    <meta property="og:description" content="Eat, Grow, Upgrade! The ultimate snake experience with levels and shop system.">
    <title>Snake Ultimate</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ</text></svg>">
    <link rel="stylesheet" href="style.css">
    <div id="fpsCounter" style="position: fixed; top: 5px; left: 5px; color: #00ff00; font-family: monospace; font-weight: bold; z-index: 1000; text-shadow: 1px 1px 2px black;">FPS: 60</div>
    <div id="killCounterDisplay" style="position: fixed; top: 5px; right: 5px; color: #ff3333; font-family: monospace; font-weight: bold; z-index: 1000; text-shadow: 1px 1px 2px black; font-size: 18px;">ğŸ’€ Kills: 0</div>
    <div id="bossTimerDisplay" style="position: fixed; top: 30px; right: 5px; color: #e040fb; font-family: monospace; font-weight: bold; z-index: 1000; text-shadow: 1px 1px 2px black; font-size: 18px;">ğŸ‘¹ Boss: 03:00</div>
    
    <!-- Hearts Container (Bottom Right) -->
    <div id="heartsContainer"></div>
    
</head>
<body>
    <canvas id="minimapCanvas" width="200" height="200"></canvas>
    <div class="main-layout">
        <!-- Stats Bar (Structured Grid Layout) -->
        <div class="stats-bar">
            
            <!-- Left Group: Score & High Score -->
            <div style="display: flex; flex-direction: column; gap: 20px; flex: 1;">
                <div class="stat-row">
                    <span id="lblScore" style="color: #ddd;">Score:</span> 
                    <span id="score" class="stat-value" style="color: white;">0</span>
                </div>
                <div class="stat-row">
                    <span id="lblHighScore" style="color: #aaa;">High Score:</span> 
                    <span id="highScore" class="stat-value" style="color: #ccc;">0</span>
                </div>
            </div>

            <!-- Center Group: Level -->
            <div style="flex: 1.5; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 0 20px;">
                <div style="display: flex; justify-content: space-between; width: 100%; margin-bottom: 5px;">
                    <span id="lblLevel" style="color: #00ffff; font-weight: bold;">Level:</span>
                    <span id="levelDisplay" style="color: #00ffff; font-weight: bold; font-size: 1.2em;">1</span>
                </div>
                <div class="xp-track">
                    <div id="xpFill" style="height: 100%; background: linear-gradient(90deg, #00bcd4, #00ffff); width: 0%; transition: width 0.3s;"></div>
                </div>
                <span id="xpText" style="font-size: 0.8em; color: #888; margin-top: 4px;">0 / 100</span>
            </div>

            <!-- Right Group: Gold & RP -->
            <div style="display: flex; flex-direction: column; gap: 20px; flex: 1;">
                <div class="stat-row">
                    <span id="lblGold" style="color: #ffd700;">Gold:</span> 
                    <span id="coinsDisplay" class="stat-value" style="color: #ffd700;">0</span>
                </div>
                <div class="stat-row">
                    <span id="lblRP" style="color: #e040fb;">RP:</span> 
                    <span id="rpDisplay" class="stat-value" style="color: #e040fb;">0</span>
                </div>
                <div class="stat-row">
                    <span id="lblSouls" style="color: #ff3333;">Souls:</span> 
                    <span id="soulsDisplay" class="stat-value" style="color: #ff3333;">0</span>
                </div>
            </div>
        </div>

        <div id="game-container">
        <canvas id="gameCanvas" width="800" height="600"></canvas>
        
        <div id="ui-layer">
            <!-- Stamina Bar -->
            <div class="stamina-container">
                <div id="staminaFill"></div>
            </div>
            <div class="stamina-label">STAMINA (SHIFT)</div>
        </div>

        <div id="menu-overlay">
            <!-- Header Section -->
            <div class="menu-header">
                <h1 style="font-size: 72px; margin-bottom: 0;">ğŸ Snake Ultimate</h1>
                <p id="menuInstructions">
                    Use WASD / Arrows to move<br>
                    SPACE to Pause<br>
                    Collect food to grow & earn gold
                </p>
            </div>

            <!-- Center Play Button -->
            <button id="startBtn" class="btn-play-large">â–¶ Play</button>

            <!-- Footer Buttons -->
            <div class="menu-footer">
                <button id="shopBtn" class="btn-menu-item" style="background: linear-gradient(45deg, #ffb300, #ffcc00);">ğŸ›’ Shop</button>
                <button id="slayerShopBtn" class="btn-menu-item" style="background: linear-gradient(45deg, #b71c1c, #ff5252);">âš”ï¸ Slayer</button>
                <button id="rebirthMenuBtn" class="btn-menu-item" style="background: linear-gradient(45deg, #d500f9, #aa00ff);">ğŸŒ€ Rebirth</button>
                <button id="guideBtn" class="btn-menu-item" style="background: linear-gradient(45deg, #9c27b0, #e040fb);">ğŸ“œ Guide</button>
                <button id="settingsBtn" class="btn-menu-item" style="background: linear-gradient(45deg, #607d8b, #78909c);">âš™ï¸ Settings</button>
                <button id="resetBtn" class="btn-menu-item btn-reset" style="font-size: 18px;">ğŸ—‘ï¸ Reset</button>
            </div>
        </div>

        <div id="shop-overlay" class="hidden">
            <h1 id="shopTitle">ğŸ›’ Upgrade Shop</h1>
            <p style="color: #ffd700; font-size: 24px; margin-bottom: 20px;"><span id="lblBalance">Balance:</span> <span id="shopCoins">0</span> ğŸ’°</p>
            <div id="shop-items" class="shop-grid"></div>
            <button id="closeShopBtn" style="margin-top: 20px; background: #ff3366;">âŒ Close</button>
        </div>

        <div id="slayer-shop-overlay" class="hidden">
            <h1 id="slayerShopTitle" style="color: #ff3333;">âš”ï¸ Slayer Shop</h1>
            <p style="color: #ff3333; font-size: 24px; margin-bottom: 20px;"><span id="lblSoulsBalance">Souls:</span> <span id="slayerSoulsDisplay">0</span> ğŸ‘»</p>
            <div id="slayer-shop-items" class="shop-grid"></div>
            <button id="closeSlayerShopBtn" style="margin-top: 20px; background: #ff3366;">âŒ Close</button>
        </div>

        <div id="rebirth-overlay" class="hidden">
            <h1 id="rebirthTitle" style="color: #e040fb;">ğŸŒ€ Rebirth</h1>
            <p style="color: #e040fb; font-size: 20px; margin-bottom: 10px;"><span id="lblRPBalance">RP:</span> <span id="rpShopDisplay">0</span> ğŸŸ£</p>
            <button id="doRebirthBtn" class="btn-rebirth">ğŸ”¥ Rebirth Now (+0 RP)</button>
            <div id="rebirth-items" class="shop-grid" style="margin-top: 20px;"></div>
            <button id="closeRebirthBtn" style="margin-top: 20px; background: #ff3366;">âŒ Close</button>
        </div>

        <div id="guide-overlay" class="hidden">
            <h1 id="guideTitle">ğŸ“œ Game Guide</h1>
            <div id="guide-items" class="shop-grid"></div>
            <button id="closeGuideBtn" style="margin-top: 20px; background: #ff3366;">âŒ Close</button>
        </div>

        <div id="settings-overlay" class="hidden">
            <div class="settings-card">
                <h1 id="settingsTitle">âš™ï¸ Settings</h1>
                <div class="menu-buttons">
                    <div class="settings-section-title" id="lblAudioGame">ğŸ”Š Audio & Gameplay</div>
                    <button id="toggleSoundBtn">ğŸ”Š Sound: ON</button>
                    <button id="toggleRangeBtn">ğŸ“ Show Range: ON</button>
                    
                    <div class="settings-section-title" id="lblGraphics">ğŸ¨ Graphics & Performance</div>
                    <button id="toggleParticlesBtn">âœ¨ Particles: ON</button>
                    <button id="toggleGlowBtn">ğŸ’¡ Glow: ON</button>
                    <button id="toggleBrightnessBtn">â˜€ï¸ Brightness: 100%</button>

                    <div style="display: flex; gap: 10px; width: 100%;">
                        <button id="langEnBtn" style="flex: 1; font-size: 18px;">English</button>
                        <button id="langArBtn" style="flex: 1; font-size: 18px;">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
                    </div>
                    <button id="closeSettingsBtn" class="btn-close">âŒ Close</button>
                </div>
            </div>
        </div>
        </div>

        <div style="width: 95%; max-width: 1200px; margin-top: 15px; display: flex; align-items: center; gap: 15px; box-sizing: border-box; text-shadow: 0 2px 5px rgba(0,0,0,0.8);">
            <span id="lblProgress" style="white-space: nowrap; font-weight: bold; color: #ff9800;">Next Evolution</span>
            <div class="xp-track" style="margin: 0; flex-grow: 1; background: #333;">
                <div id="progressFill" style="height: 100%; background: linear-gradient(90deg, #ff9800, #ff5722); width: 0%; transition: width 0.3s;"></div>
            </div>
            <span id="progressText" style="white-space: nowrap; font-family: monospace; color: #ccc;">1/50</span>
        </div>
    </div>
 <!-- Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª ÙˆØ§Ù„Ø«ÙˆØ§Ø¨Øª Ø£ÙˆÙ„Ø§Ù‹ -->
 <script src="js/constants.js"></script>
 <script src="js/state.js"></script> <!-- Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© -->
 <script src="js/utils.js"></script> <!-- Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ø§Ù…Ø© -->

 <!-- Ø§Ù„Ø·Ø¨Ù‚Ø§Øª ÙˆØ§Ù„ÙˆØ§Ø¬Ù‡Ø© -->
 <script src="js/ui.js"></script>
 <script src="js/shop.js"></script>
 <script src="js/slayerShop.js"></script>
 <script src="js/ResetLayer.js"></script>
 <script src="js/Projectile.js"></script>
 <script src="js/AiSnake.js"></script>
 
 <!-- Ù…Ù†Ø·Ù‚ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ§Ù„ØªØ´ØºÙŠÙ„ -->
 <script src="js/game.js"></script>
 <script type="module" src="js/main.js"></script>
 
</body>
</html> 