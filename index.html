<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Snake Ultimate - An advanced Snake game with RPG elements, upgrades, and infinite progression. Play now!">
    <meta property="og:title" content="Snake Ultimate ğŸ">
    <meta property="og:description" content="Eat, Grow, Upgrade! The ultimate snake experience with levels and shop system.">
    <title>Snake Ultimate</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ</text></svg>">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="CSS/base.css">
    
    <style>
        /* --- ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© (HUD Styles) --- */
        .hud-widget {
            position: fixed;
            z-index: 1000;
            background: rgba(15, 20, 35, 0.85);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-left: 3px solid;
            backdrop-filter: blur(8px);
            padding: 8px 16px;
            border-radius: 4px;
            font-family: 'Segoe UI', monospace;
            font-weight: bold;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            gap: 8px;
            transition: transform 0.2s;
        }
        .hud-widget:hover { transform: scale(1.02); }

        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ù‚Ù„ÙˆØ¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Ø®Ù„Ø§ÙŠØ§ Ø·Ø§Ù‚Ø©) */
        .heart-block {
            width: 24px;
            height: 14px;
            border: 1px solid #555;
            transform: skewX(-25deg); /* Ù…ÙŠÙ„Ø§Ù† Ù„ÙŠØ¹Ø·ÙŠ Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø³Ø±Ø¹Ø© */
            margin-right: 4px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø±Ø§Ø¯Ø§Ø± Ù„Ù„Ø®Ø±ÙŠØ·Ø© */
        .radar-sweep {
            position: absolute;
            top: 50%; left: 50%;
            width: 150%; height: 150%;
            background: conic-gradient(from 0deg, transparent 0deg, rgba(0, 255, 255, 0.1) 60deg, transparent 60deg);
            transform-origin: top left;
            animation: radar-spin 4s linear infinite;
            pointer-events: none;
            /* border-radius: 50%; removed for square map */
        }
        @keyframes radar-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    </style>

    <div id="fpsCounter" class="hud-widget" style="top: 15px; left: 15px; color: #00ff00; border-left-color: #00ff00;">FPS: 60</div>
    <div id="killCounterDisplay" class="hud-widget" style="top: 15px; right: 15px; color: #ff3333; border-left-color: #ff3333;">ğŸ’€ Kills: 0</div>
    <div id="bossTimerDisplay" class="hud-widget" style="top: 65px; right: 15px; color: #e040fb; border-left-color: #e040fb;">ğŸ‘¹ Boss: 03:00</div>
    
</head>
<body>
    <canvas id="bgCanvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;"></canvas>
    
    <!-- Minimap Container with Radar Effect -->
    <div style="position: fixed; bottom: 20px; right: 20px; z-index: 1000; width: 200px; height: 200px; border-radius: 8px; border: 2px solid rgba(0, 255, 255, 0.5); box-shadow: 0 0 20px rgba(0, 255, 255, 0.2); background: #000; overflow: hidden;">
        <canvas id="minimapCanvas" width="200" height="200" style="position: absolute; top: 0; left: 0;"></canvas>
        <div class="radar-sweep"></div>
    </div>

    <!-- Hearts Container (Next to Minimap) -->
    <div id="heartsContainer" style="position: fixed; bottom: 25px; right: 240px; z-index: 1000; display: flex; gap: 2px; filter: drop-shadow(0 0 5px rgba(255, 50, 50, 0.5));"></div>
    
    <div class="main-layout">
        <!-- Stats Bar (Structured Grid Layout) -->
        <div class="stats-bar" style="background: linear-gradient(180deg, rgba(30, 40, 60, 0.9), rgba(20, 25, 40, 0.9)); border: 1px solid rgba(255, 255, 255, 0.1); border-bottom: 2px solid rgba(0, 255, 255, 0.3); border-radius: 0 0 20px 20px; padding: 15px 30px; margin-bottom: 20px; backdrop-filter: blur(12px); box-shadow: 0 10px 40px rgba(0,0,0,0.6); width: 100%; max-width: 900px;">
            
            <!-- Left Group: Score & High Score -->
            <div style="display: flex; flex-direction: column; gap: 20px; flex: 1;">
                <div class="stat-row">
                    <span id="lblScore" style="color: #ddd;">Score:</span> 
                    <span id="score" class="stat-value" style="color: white;">0</span>
                </div>
                <div class="stat-row">
                    <span id="lblHighScore" style="color: #aaa;">High Score:</span> 
                    <span id="highScore" class="stat-value" style="color: #ccc;">0</span>
                </div>
            </div>

            <!-- Center Group: Level -->
            <div style="flex: 1.5; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 0 20px;">
                <div style="display: flex; justify-content: space-between; width: 100%; margin-bottom: 5px;">
                    <span id="lblLevel" style="color: #00ffff; font-weight: bold;">Level:</span>
                    <span id="levelDisplay" style="color: #00ffff; font-weight: bold; font-size: 1.2em;">1</span>
                </div>
                <div class="xp-track">
                    <div id="xpFill" style="height: 100%; background: linear-gradient(90deg, #00bcd4, #00ffff); width: 0%; transition: width 0.3s;"></div>
                </div>
                <span id="xpText" style="font-size: 0.8em; color: #888; margin-top: 4px;">0 / 100</span>
            </div>

            <!-- Right Group: Gold & RP -->
            <div style="display: flex; flex-direction: column; gap: 20px; flex: 1;">
                <div class="stat-row">
                    <span id="lblGold" style="color: #ffd700;">Gold:</span> 
                    <span id="coinsDisplay" class="stat-value" style="color: #ffd700;">0</span>
                </div>
                <div class="stat-row">
                    <span id="lblRP" style="color: #e040fb;">RP:</span> 
                    <span id="rpDisplay" class="stat-value" style="color: #e040fb;">0</span>
                </div>
                <div class="stat-row">
                    <span id="lblSouls" style="color: #ff3333;">Souls:</span> 
                    <span id="soulsDisplay" class="stat-value" style="color: #ff3333;">0</span>
                </div>
            </div>
        </div>

        <div id="game-container">
        <canvas id="gameCanvas" width="800" height="600"></canvas>
        
        <div id="ui-layer">
            <!-- Stamina Bar -->
            <div class="stamina-container">
                <div id="staminaFill"></div>
            </div>
            <div class="stamina-label">STAMINA (SHIFT)</div>
        </div>

        <div id="menu-overlay">
            <div class="menu-glass-panel">
                <!-- Header Section -->
                <div class="menu-header">
                    <h1>ğŸ Snake Ultimate</h1>
                    <p id="menuInstructions">
                        Use WASD / Arrows to move<br>
                        SPACE to Pause<br>
                        Collect food to grow & earn gold
                    </p>
                </div>

                <!-- Center Play Button -->
                <button id="startBtn" class="btn-play-large">â–¶ Play</button>

                <!-- Footer Buttons -->
                <div class="menu-footer">
                    <button id="shopBtn" class="btn-menu-item btn-shop">ğŸ›’ Shop</button>
                    <button id="slayerShopBtn" class="btn-menu-item btn-slayer">âš”ï¸ Slayer</button>
                    <button id="rebirthMenuBtn" class="btn-menu-item btn-rebirth-menu">ğŸŒ€ Rebirth</button>
                    <button id="guideBtn" class="btn-menu-item btn-guide">ğŸ“œ Guide</button>
                    <button id="settingsBtn" class="btn-menu-item btn-settings">âš™ï¸ Settings</button>
                </div>
            </div>
        </div>

        <div id="shop-overlay" class="hidden">
            <h1 id="shopTitle">ğŸ›’ Upgrade Shop</h1>
            <p style="color: #ffd700; font-size: 24px; margin-bottom: 20px;"><span id="lblBalance">Balance:</span> <span id="shopCoins">0</span> ğŸ’°</p>
            <div id="shop-items" class="shop-grid"></div>
            <button id="closeShopBtn" style="margin-top: 20px; background: #ff3366;">âŒ Close</button>
        </div>

        <div id="slayer-shop-overlay" class="hidden">
            <h1 id="slayerShopTitle" style="color: #ff3333;">âš”ï¸ Slayer Shop</h1>
            <p style="color: #ff3333; font-size: 24px; margin-bottom: 20px;"><span id="lblSoulsBalance">Souls:</span> <span id="slayerSoulsDisplay">0</span> ğŸ‘»</p>
            <div id="slayer-shop-items" class="shop-grid"></div>
            <button id="closeSlayerShopBtn" style="margin-top: 20px; background: #ff3366;">âŒ Close</button>
        </div>

        <div id="rebirth-overlay" class="hidden">
            <h1 id="rebirthTitle" style="color: #e040fb;">ğŸŒ€ Rebirth</h1>
            <p style="color: #e040fb; font-size: 20px; margin-bottom: 10px;"><span id="lblRPBalance">RP:</span> <span id="rpShopDisplay">0</span> ğŸŸ£</p>
            <button id="doRebirthBtn" class="btn-rebirth">ğŸ”¥ Rebirth Now (+0 RP)</button>
            <div id="rebirth-items" class="shop-grid" style="margin-top: 20px;"></div>
            <button id="closeRebirthBtn" style="margin-top: 20px; background: #ff3366;">âŒ Close</button>
        </div>

        <div id="guide-overlay" class="hidden">
            <h1 id="guideTitle">ğŸ“œ Game Guide</h1>
            <div id="guide-items" class="shop-grid"></div>
            <button id="closeGuideBtn" style="margin-top: 20px; background: #ff3366;">âŒ Close</button>
        </div>

        <div id="settings-overlay" class="hidden">
            <div class="settings-card">
                <h1 id="settingsTitle">âš™ï¸ Settings</h1>
                <div class="menu-buttons">
                    <div class="settings-section-title" id="lblAudioGame">ğŸ”Š Audio & Gameplay</div>
                    <button id="toggleSoundBtn">ğŸ”Š Sound: ON</button>
                    <button id="toggleRangeBtn">ğŸ“ Show Range: ON</button>
                    
                    <div class="settings-section-title" id="lblGraphics">ğŸ¨ Graphics & Performance</div>
                    <button id="toggleParticlesBtn">âœ¨ Particles: ON</button>
                    <button id="toggleGlowBtn">ğŸ’¡ Glow: ON</button>
                    <button id="toggleQualityBtn">ğŸ’ Quality: HIGH</button>
                    <button id="toggleBrightnessBtn">â˜€ï¸ Brightness: 100%</button>

                    <div style="display: flex; gap: 10px; width: 100%;">
                        <button id="langEnBtn" style="flex: 1; font-size: 18px;">English</button>
                        <button id="langArBtn" style="flex: 1; font-size: 18px;">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
                    </div>
                    <!-- Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† ØªÙ… Ù†Ù‚Ù„Ù‡ Ù‡Ù†Ø§ Ù„Ù„Ø£Ù…Ø§Ù† -->
                    <button id="resetBtn" class="btn-menu-item btn-reset" style="font-size: 18px; background: linear-gradient(45deg, #d32f2f, #f44336); margin-top: 10px;">ğŸ—‘ï¸ Reset Data</button>
                    <button id="closeSettingsBtn" class="btn-close">âŒ Close</button>
                </div>
            </div>
        </div>
        </div>

        <!-- Mobile Controls (Joystick & Sprint) -->
        <div id="mobile-controls" style="display: none;">
            <div id="joystick-container">
                <div id="joystick-knob"></div>
            </div>
            <button id="mobile-sprint-btn">âš¡</button>
        </div>

        <div style="width: 100%; max-width: 800px; margin-top: 15px; display: flex; align-items: center; gap: 15px; box-sizing: border-box; background: rgba(10, 15, 25, 0.8); padding: 12px 25px; border-radius: 50px; border: 1px solid rgba(255, 152, 0, 0.3); box-shadow: 0 5px 20px rgba(0,0,0,0.4);">
            <span id="lblProgress" style="white-space: nowrap; font-weight: bold; color: #ff9800; font-family: 'Segoe UI', sans-serif; letter-spacing: 1px;">EVOLUTION</span>
            <div class="xp-track" style="margin: 0; flex-grow: 1; background: rgba(0, 0, 0, 0.5); height: 12px; border-radius: 6px; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.1);">
                <div id="progressFill" style="height: 100%; background: linear-gradient(90deg, #ff9800, #ff3d00); width: 0%; transition: width 0.3s; box-shadow: 0 0 10px #ff9800;"></div>
            </div>
            <span id="progressText" style="white-space: nowrap; font-family: monospace; color: #ccc;">1/50</span>
        </div>
    </div>
 <!-- Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª ÙˆØ§Ù„Ø«ÙˆØ§Ø¨Øª Ø£ÙˆÙ„Ø§Ù‹ -->
 <script src="js/constants.js"></script>
 <script src="js/state.js"></script> <!-- Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© -->
 <script src="js/utils.js"></script> <!-- Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ø§Ù…Ø© -->

 <!-- Ø§Ù„Ø·Ø¨Ù‚Ø§Øª ÙˆØ§Ù„ÙˆØ§Ø¬Ù‡Ø© -->
 <script src="js/ui.js"></script>
 <script src="js/shop.js"></script>
 <script src="js/slayerShop.js"></script>
 <script src="js/ResetLayer.js"></script>
 <script src="js/Projectile.js"></script>
 <script src="js/AiSnake.js"></script>
 <script src="js/input.js"></script>
 <script src="js/renderer.js"></script>
 
 <!-- Ù…Ù†Ø·Ù‚ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ§Ù„ØªØ´ØºÙŠÙ„ -->
 <script src="js/game.js"></script>
 <script type="module" src="js/main.js"></script>
 
</body>
</html> 